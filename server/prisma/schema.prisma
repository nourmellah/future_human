generator client {
provider = "prisma-client-js"
}


datasource db {
provider = "sqlite"
url = env("DATABASE_URL")
}


model User {
id Int @id @default(autoincrement())
email String @unique
passwordHash String
name String?
createdAt DateTime @default(now())
agents Agent[]
refreshTokens RefreshToken[]
}


model Agent {
id Int @id @default(autoincrement())
ownerId Int
name String
avatarUrl String?
config Json?
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt


owner User @relation(fields: [ownerId], references: [id])
}


model RefreshToken {
id Int @id @default(autoincrement())
token String @unique
userId Int
expiresAt DateTime
createdAt DateTime @default(now())


user User @relation(fields: [userId], references: [id])
}